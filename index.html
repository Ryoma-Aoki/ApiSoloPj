<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- BootstrapのCSS読み込み -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="sample.css">
</head>
<script type="text/javascript" src="sample.js"></script>

<body>
    <h1>api-solo-project(Bachlorette API)</h1>
    <a href= "https://github.com/Ryoma-Aoki/ApiSoloPj" >GitHubへのリンク</a>
    <p id="tabcontrol">
        <a href="#tabpage1">全件取得</a>
        <a href="#tabpage2">登録</a>
        <a href="#tabpage3">削除</a>
        <a href="#tabpage4">変更</a>
    </p>

    <div id="tabbody">
        <div id="tabpage1" class="col-md">
            <h2>GET</h2>
            <input type="button" class="form-control" id="b1" value="ユーザ情報全件取得" onclick="getUser()">
            <section id="maintable_getAll" class="col-md"></section>
        </div>
        <div id="tabpage2" class="col-md">
            <h3>POST</h3>
            <p>firstName：<input type="text" id="firstName" name="firstName" size="20" /></p>
            <p>lastName：<input type="text" id="lastName" name="lastName" size="20" /></p>
            <p>age：<input type="text" id="age" name="age" size="20" /></p>
            <p>Jobs：<input type="text" id="jobs" name="jobs" size=" 20" /></p>
            <p>salary：<input type="text" id="salary" name="salary" size="20" /></p>
            <p>birthday：<input type="text" id="birthday" name="birthday" size="20" /></p>
            <p><input type="submit" class="form-control" name="submit" value="登録" onclick="postUser()" /></p>
            <section id="maintable_post" class="col-md">
            </section>
        </div>
        <div id="tabpage3" class="col-md">
            <h4>DELETE</h4>
            <p>ID：<input type="text" id="userId" name="userId" size="20" /></p>
            <p><input type="submit" class="form-control" name="submit" value="削除" onclick="deleteUser()" /></p>
        </div>
        <div id="tabpage4" class="col-md">
            <h4>PATCH</h4>
            <p>ID：<input type="text" id="patchUserId" name="patchUserId" size="20" /></p>
            <p>age：<input type="text" id="patchAge" name="patchAge" size="20" /></p>
            <p>Jobs：<input type="text" id="patchJobs" name="patchJobs" size=" 20" /></p>
            <p>salary：<input type="text" id="patchSalary" name="patchSalary" size="20" /></p>
            <p><input type="submit" class="form-control" name="submit" value="変更" onclick="patchUser()" /></p>
        </div>
    </div>
    <script type="text/javascript">
        // ---------------------------
        // ▼A：対象要素を得る
        // ---------------------------
        var tabs = document.getElementById('tabcontrol').getElementsByTagName('a');
        var pages = document.getElementById('tabbody').getElementsByTagName('div');
        // var pages = document.getElementById('tabbody').querySelectorAll('div:not(.maintable)');
        console.log(pages);
        // ---------------------------
        // ▼B：タブの切り替え処理
        // ---------------------------
        function changeTab() {
            // ▼B-1. href属性値から対象のid名を抜き出す
            var targetid = this.href.substring(this.href.indexOf('#') + 1, this.href.length);

            // ▼B-2. 指定のタブページだけを表示する
            for (var i = 0; i < pages.length; i++) {
                if (pages[i].id != targetid) {
                    pages[i].style.display = "none";
                }
                else {
                    pages[i].style.display = "block";
                }
            }

            // ▼B-3. クリックされたタブを前面に表示する
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].style.zIndex = "0";
            }
            this.style.zIndex = "10";

            // ▼B-4. ページ遷移しないようにfalseを返す
            return false;
        }

        // ---------------------------
        // ▼C：すべてのタブに対して、クリック時にchangeTab関数が実行されるよう指定する
        // ---------------------------
        for (var i = 0; i < tabs.length; i++) {
            tabs[i].onclick = changeTab;
        }

        // ---------------------------
        // ▼D：最初は先頭のタブを選択しておく
        // ---------------------------
        tabs[0].onclick();

    </script>
</body>

</html>